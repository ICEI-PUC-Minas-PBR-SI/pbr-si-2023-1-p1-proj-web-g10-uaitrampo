<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Cadasto com CNPJ</title>
  <link href="../styles/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="CPF.css">
  <link rel="stylesheet" href="../styles/cadastroCNPJ.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <style>
    @font-face {
      font-family: SansSerifBldFLF;
      src: url('SansSerifBldFLF.otf') format ('opentype');
    }
  </style>
</head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <sript src="https://replit.com/public/js/replit-badge-v2.js" theme="dark" position="bottom-right">
    </script>


    <header class="telaInicial">
      <div class="roxo" id="espacoRoxoHeader"></div>
    </header>


    <div class="cadastro">
      <h1>Cadastre-se</h1>
      <h3> Você possui CNPJ?</h3>
      <P> Atenção: não será possivel alterar esse campo depois</P>
<div class="checkout">
  <label>
    <input type="radio" name="opcao" value="sim" required> Sim
  </label>
  <label>
    <input type="radio" name="opcao" value="nao"> Não
  </label>
</div>

    </div>


    <main class="cadastroInfor">

      <div class="input1">
        <input id="placeholder-txt" placeholder="Digite seu CNPJ" type="text"> <br>

      </div>

      <div class="input2">
        <input id="placeholder-txt1" placeholder="Digite seu email" type="text"><br>

      </div>

      <div class="input3">
        <input id="placeholder-txt2" placeholder="Crie uma senha" type="password">
      </div>


    </main>



    <div class="selecao">
      <p> Você quer contratar ou ser contratado? <br>
        <span class="linha2"> (Você pode mudar depois ou selecionar os dois) </span>
      </p>

      <div class="opcao">
        <input type="checkbox"> Contratar
        <input type="checkbox"> Ser contratado
      </div>

      <div class="uso">
        <button class="termos"> Termos de uso </button>
      </div>

      <div class="termoUso">
        <input type="checkbox"> Li e concordo com os termos de uso acima
      </div>


      <button class="finalizar mb-4"><a href="../index.html" onclick="TestaCNPJ()">Cadastrar</a> </button>
    </div>




    </div>


    <script>
      function TestaCNPJ() {
        var cnpj = document.getElementById('placeholder-txt').value.replace(/[^\d]+/g, ''); // Remove caracteres não numéricos
        if (cnpj.length !== 14) {
          alert('Digite um CNPJ válido');
          return false;
        }
    
        // Verifica se todos os dígitos são iguais
        if (/^(\d)\1+$/.test(cnpj)) {
          alert('Digite um CNPJ válido');
          return false;
        }
    
        // Calcula o primeiro dígito verificador
        var soma = 0;
        var peso = 2;
        for (var i = 11; i >= 0; i--) {
          soma += parseInt(cnpj.charAt(i)) * peso;
          peso = peso === 9 ? 2 : peso + 1;
        }
        var digitoVerificador1 = (soma % 11) < 2 ? 0 : 11 - (soma % 11);
    
        if (parseInt(cnpj.charAt(12)) !== digitoVerificador1) {
          alert('Digite um CNPJ válido');
          return false;
        }
    
        // Calcula o segundo dígito verificador
        soma = 0;
        peso = 2;
        for (var j = 12; j >= 0; j--) {
          soma += parseInt(cnpj.charAt(j)) * peso;
          peso = peso === 9 ? 2 : peso + 1;
        }
        var digitoVerificador2 = (soma % 11) < 2 ? 0 : 11 - (soma % 11);
    
        if (parseInt(cnpj.charAt(13)) !== digitoVerificador2) {
          alert('Digite um CNPJ válido');
          return false;
        }
        else 
        alert('Cadastro realizado com sucesso! Agora, faça o login!');
    
        return true;
      }
    </script>



      

        
      </script>
</body>

</html>